% ????????? ?? Prolog ??? ??????????? ????? k ? ?????? ? ????? ???????????? ????? n.
% ???? ???????????? ? ?????????? (??????????? ????? n ? ????? k).

% Domains
% ??????????? ????? (integer), ?????? ???? (list), ????????? (list).

domains
    number = integer  % ??????????? ?????
    digit = integer   % ?????
    list = integer*   % ?????? ????

% Predicates
% ???????? ????????? ?????????
    prepend_append(number, digit, number).  % ???????? ???????? ??? ????????? ?????
    number_to_list(number, list).           % ?????????????? ????? ? ?????? ????
    list_to_number(list, number).           % ?????????????? ?????? ??????? ? ?????

% Clauses
% ?????????? ????????? ?????????

% prepend_append(+N, +K, -Result): ????????? K ? ?????? ? ????? ????? N, ????????? ????????? ? Result
prepend_append(N, K, Result) :-
    % ??????????? ????? N ? ?????? ????
    number_to_list(N, DigitsList),
    % ????????? K ? ?????? ? ????? ??????
    append([K], DigitsList, NewList1),
    append(NewList1, [K], FinalList),
    % ??????????? ?????????? ?????? ??????? ? ?????
    list_to_number(FinalList, Result).

% number_to_list(+N, -List): ??????????? ????? N ? ?????? ???? List
number_to_list(N, DigitsList) :-
    number_chars(N, Chars),      % ??????????? ????? ? ?????? ????????
    maplist(atom_number, Chars, DigitsList).  % ??????????? ??????? ? ?????? ????

% list_to_number(+List, -N): ??????????? ?????? ???? List ??????? ? ????? N
list_to_number(DigitsList, N) :-
    maplist(number_chars, Digits, Chars),     % ??????????? ????? ? ???????
    atom_chars(Atom, Chars),                  % ?????????? ??????? ? ??????
    atom_number(Atom, N).                     % ??????????? ?????? ? ?????

% Goal
goal
    write("??????? ????? N: "), nl,
    read(N),
    write("??????? ????? K: "), nl,
    read(K),
    prepend_append(N, K, Result),
    write("?????????: "), write(Result), nl.
