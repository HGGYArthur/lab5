% Определим детей и животных
дети(петя).
дети(лена).
дети(таня).

животные(собака).
животные(кошка).
животные(хомячок).

% Предикат для определения, кто с каким животным гуляет
гуляет(Ребенок, Животное) :-
    дети(Ребенок),
    животные(Животное).

% Ограничения:
% 1. Петя не любит кошек, поэтому он не гуляет с кошкой.
:- гуляет(петя, кошка).

% 2. Петя живет в одном подъезде с хозяйкой хомячка.
% Это означает, что Петя не может быть хозяйкой хомячка, так как он мальчик.
% Следовательно, хомячок принадлежит либо Лене, либо Тане.
:- гуляет(петя, хомячок).

% 3. Лена дружит с Таней, которая гуляет с кошкой.
гуляет(таня, кошка).

% Основной предикат для поиска решения
решение :-
    гуляет(петя, СобакаИлиХомячок),
    СобакаИлиХомячок \= кошка,
    гуляет(лена, ЛенаЖивотное),
    гуляет(таня, кошка),
    % Убедимся, что все животные распределены уникально
    уникальные_животные([СобакаИлиХомячок, ЛенаЖивотное, кошка]),
    % Вывод результата
    format('Петя гуляет с ~w~n', [СобакаИлиХомячок]),
    format('Лена гуляет с ~w~n', [ЛенаЖивотное]),
    format('Таня гуляет с ~w~n', [кошка]).

% Предикат для проверки уникальности животных
уникальные_животные([]).
уникальные_животные([H | T]) :-
    \+ member(H, T),
    уникальные_животные(T).

